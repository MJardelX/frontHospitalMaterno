<div class="title-container">
    <!-- <img src="assets/image/user_circle.svg" alt="" class="title-icon" style="padding: 0;"> -->
    <h1 class="title" style="margin: 0; padding: 0px;">Configuración de Perfil</h1>
</div>


<form [formGroup]="form_data_user">
    <div class="container">
    
    
        <!-- !NOMBRE -->
    
        <div class="data-container">
            <div class="grid-data">
                <span class="campo">Nombre completo</span>    
                <p class="data"> {{data_usuario?.primer_nombre}} {{data_usuario?.segundo_nombre}} {{data_usuario?.primer_apellido}} {{data_usuario?.segundo_apellido}}</p>
    
                <div class="cont-edit" (click)="expandir('nombre')">
                    <img src="assets/image/edit.svg" class="icon">
                    <span class="text-editar">Editar</span>
                </div>
            </div>
    
            <div class="form" *ngIf="drops.nombre">
                <div class="form-grid grid-nombre">
                    <input type="text" name=""  placeholder="Primer nombre" class="input" formControlName="primer_nombre">
                    <input type="text" name=""  placeholder="Segundo nombre" class="input" formControlName="segundo_nombre">
                    <input type="text" name=""  placeholder="Primer apellido" class="input" formControlName="primer_apellido">
                    <input type="text" name=""  placeholder="Segundo apellido" class="input" formControlName="segundo_apellido">
    
                    <div class="container-btn">
                        <span class="guardar-text" (click)="actualizarNombre()">Guardar</span>
                    </div>
    
                </div>
            </div>
        </div>
    
         <!-- !DPI -->
         <div class="data-container">
            <div class="grid-data">
                <span class="campo">DPI</span>    
                <p class="data"> {{data_usuario?.dpi}}</p>
    
                <div class="cont-edit" (click)="expandir('dpi')">
                    <img src="assets/image/edit.svg" class="icon">
                    <span class="text-editar">Editar</span>
                </div>
            </div>
    
            <div class="form" *ngIf="drops.dpi">
                <div class="form-grid grid-usuario">
                    <!-- <input type="text" name=""  placeholder="Primer nombre" class="input">
                    <input type="text" name=""  placeholder="Segundo nombre" class="input"> -->
                    <!-- <input type="text" name=""  placeholder="Primer apellido" class="input"> -->
                    <div style="display: flex; justify-content: space-around; align-items: center;">
                        <input type="text" name=""  placeholder="Usuario" class="input" style="margin-right: 5px;" formControlName="dpi">
                        <span class="guardar-text" (click)="actualizarDpi()">Guardar</span>
                    </div>
    
                    <!-- <div class="container-btn">
                    </div> -->
    
                </div>
            </div>
        </div>
    
        <!-- !USUARIO -->
        <div class="data-container">
            <div class="grid-data">
                <span class="campo">Usuario</span>    
                <p class="data"> {{data_usuario?.nombre_usuario}}</p>
    
                <div class="cont-edit" (click)="expandir('usuario')">
                    <img src="assets/image/edit.svg" class="icon">
                    <span class="text-editar">Editar</span>
                </div>
            </div>
    
            <div class="form" *ngIf="drops.usuario">
                <div class="form-grid grid-usuario">
                    <!-- <input type="text" name=""  placeholder="Primer nombre" class="input">
                    <input type="text" name=""  placeholder="Segundo nombre" class="input"> -->
                    <!-- <input type="text" name=""  placeholder="Primer apellido" class="input"> -->
                    <div style="display: flex; justify-content: space-around; align-items: center;">
                        <input type="text" name=""  placeholder="Usuario" class="input" style="margin-right: 5px;" formControlName="nombre_usuario">
                        <span class="guardar-text" (click)="actualizarUser()">Guardar</span>
                    </div>
    
                    <!-- <div class="container-btn">
                    </div> -->
    
                </div>
            </div>
        </div>
    
        <!-- !CORREO -->
    
        <div class="data-container">
            <div class="grid-data">
                <span class="campo">Correo</span>    
                <p class="data"> {{data_usuario?.correo}}</p>
    
                <div class="cont-edit" (click)="expandir('correo')">
                    <img src="assets/image/edit.svg" class="icon">
                    <span class="text-editar">Editar</span>
                </div>
            </div>
            <div class="form" *ngIf="drops.correo">
                <div class="form-grid grid-usuario">
                    <!-- <input type="text" name=""  placeholder="Primer nombre" class="input">
                    <input type="text" name=""  placeholder="Segundo nombre" class="input"> -->
                    <!-- <input type="text" name=""  placeholder="Primer apellido" class="input"> -->
                    <div style="display: flex; justify-content: space-around; align-items: center;">
                        <input type="text" name=""  placeholder="Correo" class="input" style="margin-right: 5px;" formControlName="correo">
                        <span class="guardar-text">Guardar</span>
                    </div>
    
                    <!-- <div class="container-btn">
                    </div> -->
    
                </div>
            </div>
        </div>
    
        <!-- !CONTRASEÑA -->
    
        <div class="data-container" *ngIf="isConfigProfile">
            <div class="grid-data">
                <span class="campo">Contraseña</span>    
                <p class="data"> ******************</p>
    
                <div class="cont-edit" (click)="expandir('pass')">
                    <img src="assets/image/edit.svg" class="icon">
                    <span class="text-editar">Editar</span>
                </div>
            </div>
    
            <div class="form" *ngIf="drops.pass">
                <div class="form-grid grid-nombre">
                    <input type="password" name=""  formControlName="contraseña_actual" placeholder="Contraseña actual" class="input">
                    <!-- <input type="text" name=""  placeholder="Segundo nombre" class="input"> -->
                    <input type="password" name=""  formControlName="nueva_contraseña" placeholder="Contraseña nueva" class="input down">
                    <input type="password" name=""  formControlName="repetir_contraseña" placeholder="repita contraseña" class="input down">
    
                    <div class="container-btn down-1">
                        <span class="guardar-text" (click)="actualizarPassUsuario()">Guardar</span>
                    </div>
    
                </div>
            </div>
        </div>
    
        <!-- !TELEFONO -->
        <div class="data-container">
            <div class="grid-data">
                <span class="campo">Teléfono</span>    
                <p class="data"> {{data_usuario?.telefono}}</p>
    
                <div class="cont-edit" (click)="expandir('telefono')">
                    <img src="assets/image/edit.svg" class="icon">
                    <span class="text-editar">Editar</span>
                </div>
            </div>
    
            <div class="form" *ngIf="drops.telefono">
                <div class="form-grid grid-usuario">
                    <!-- <input type="text" name=""  placeholder="Primer nombre" class="input">
                    <input type="text" name=""  placeholder="Segundo nombre" class="input"> -->
                    <!-- <input type="text" name=""  placeholder="Primer apellido" class="input"> -->
                    <div style="display: flex; justify-content: space-around; align-items: center;">
                        <input type="text" name=""  placeholder="Teléfono" class="input" style="margin-right: 5px;" formControlName="telefono">
                        <span class="guardar-text" (click)=" actualizarDatoUsuario('telefono')">Guardar</span>
                    </div>
    
                    <!-- <div class="container-btn">
                    </div> -->
    
                </div>
            </div>
        </div>
    
        <!-- !PUESTO -->
        <div class="data-container">
            <div class="grid-data">
                <span class="campo">Puesto</span>    
                <p class="data"> {{data_usuario?.puesto}}</p>
    
                <div class="cont-edit" (click)="expandir('puesto')">
                    <img src="assets/image/edit.svg" class="icon">
                    <span class="text-editar">Editar</span>
                </div>
            </div>
    
            <div class="form" *ngIf="drops.puesto">
                <div class="form-grid grid-usuario">
                    <!-- <input type="text" name=""  placeholder="Primer nombre" class="input">
                    <input type="text" name=""  placeholder="Segundo nombre" class="input"> -->
                    <!-- <input type="text" name=""  placeholder="Primer apellido" class="input"> -->
                    <div style="display: flex; justify-content: space-around; align-items: center;">
                        <input type="text" name=""  placeholder="Puesto" class="input" style="margin-right: 5px;" formControlName="puesto">
                        <span class="guardar-text" (click)=" actualizarDatoUsuario('puesto')">Guardar</span>
                    </div>
    
                    <!-- <div class="container-btn">
                    </div> -->
    
                </div>
            </div>
        </div>
    

         <!-- !ROL -->
    
         <div class="data-container" *ngIf="!isConfigProfile">
            <div class="grid-data">
                <span class="campo">Roles</span>    
                <p class="data"> {{data_usuario?.roles}}</p>
    
                <div class="cont-edit" (click)="expandir('roles')">
                    <img src="assets/image/edit.svg" class="icon">
                    <span class="text-editar">Editar</span>
                </div>
            </div>
    
            <div class="form" *ngIf="drops.roles">
                <div class="form-grid grid-usuario" >


                    <div class="flex-center" >
                        <select name="roles" id="roles" class="input" formControlName="rol">
                            <option value="Rol" disabled selected>Rol</option>
                            <ng-container *ngFor="let rol of data_roles; let i=index">
                                <option [ngValue]="i" >{{rol.nombre_rol}}</option>
                            </ng-container>
                        </select>
                        <span class="guardar-text" (click)="agregarRol()">Agregar</span>
                    </div>

                    <div class="container-roles flex-start-center">
                        <ng-container *ngFor="let rol of roles; let i=index">
                            <div class="rol-container">
                                {{rol.nombre_rol}}
                                <img src="assets/image/x.svg" alt="" class="close" (click)="close(i)" >
                            </div>
                        </ng-container>
                    </div>

                    <div class="flex-end-center">
                        <span class="guardar-text" (click)="actualizarRoles()">Guardar</span>
                    </div>
    
                </div>
            </div>
        </div>
    </div>
</form>